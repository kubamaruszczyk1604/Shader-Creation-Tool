#version 330

//Passed from vertex shader
in vec3 oPosition_WorldSpace;
in vec3 oPosition_ObjectSpace;
in vec3 oPosition_EyeSpace;
in vec3 oNormal_InvWorldSpace;
in vec3 oNormal_ObjectScpace;
in vec2 oUVs;
in vec3 oCamera_WorldSpace;
in float oTime;


out vec4 FragColour;

//Uniform nodes translated as uniform variables.
uniform sampler2D       SCT_TEXTURE2D_0;

// SCT Nodes Translated as functions.
void Sampler2D(sampler2D Texture, vec2 Texcoord, inout vec4 FinalColour)
{
 FinalColour = texture2D(Texture,Texcoord); 
}

void ExpFog(vec3 CamPos, vec3 ObjPos, vec4 ColourIn, inout vec4 FinalOut)
{
   
     float distance = length(CamPos-ObjPos);
     float fogAmount = 1.0 - exp(-distance * 0.02);
     vec4 fogColor =  vec4(0.00, 0.001, 0.01, 1);
     FinalOut =mix(ColourIn, fogColor, fogAmount);
   
}



 void main()
{

//SCT CALL: Sampler2D
   vec4  OUT_FinalColour0_NF_Sampler2D_0_2746;
   Sampler2D(SCT_TEXTURE2D_0, oUVs, OUT_FinalColour0_NF_Sampler2D_0_2746);

//SCT CALL: ExpFog
   vec4  OUT_FinalOut0_NF_ExpFog_1_2817;
   ExpFog(oCamera_WorldSpace, oPosition_WorldSpace, OUT_FinalColour0_NF_Sampler2D_0_2746, OUT_FinalOut0_NF_ExpFog_1_2817);

FragColour = OUT_FinalOut0_NF_ExpFog_1_2817;

}